<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Devices</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="devices">
<h1 class="title">Devices</h1>

<p>A variety of devices are available for use at SSRL-DeNovX.  Currently only
High Throughput (HiTp) diffraction is supported, but more functionality will
be added in the future.</p>
<p>While most PV's are accessible from the ipython session, it's generally
advised to use the GUI elements to adjust parameters like exposure time or
frame rates.</p>
<p>A fleshed-out profile has been built for beamline 10-2a at Stanford Synchrotron Radiation Laboratory (SSRL)
with a specific set of devices and instruments.</p>
<p>As of December 2021 the 10-2a profile includes the following devices:
- An xy motor stage with sample mount
- A z motor for detector motion
- A Dexela 2923 detector
- A photodiode beamstop
- A filter box with 4 interchangeable slots for filters of varying thickness
- The shutter to the hutch</p>
<div class="section" id="dexela-2923">
<h1>Dexela 2923</h1>
<p>The Dexela detector is currently defined as the variable <tt class="docutils literal">dexDet</tt>. The <tt class="docutils literal">dexDet</tt> variable is passed to various
Bluesky commands and wrappers for data acquisition.</p>
<p>Some useful functions:</p>
<ul class="simple">
<li><tt class="docutils literal">dexDet.cam.acquire_time.get()</tt> -- Print the current detector exposure time.</li>
<li><tt class="docutils literal">dexDet.cam.acquire_time.set(t)</tt> -- Set the detector exposure time to <tt class="docutils literal">t</tt> seconds.</li>
</ul>
</div>
<div class="section" id="cassette-motor-stage">
<h1>Cassette Motor Stage</h1>
<p>As of December 2021 the profile is configured for a 2-axis motion stage that moves in a plane perpendicular to the
beam direction (the x and y directions, in the laboratory coordinate system). The stage is defined as the variable
<tt class="docutils literal">c_stage</tt> and this variable is passed to various Bluesky commands for motor movement.</p>
<p>The two motors can be accessed individually:</p>
<ul class="simple">
<li><tt class="docutils literal">c_stage.cx</tt> -- The x motor</li>
<li><tt class="docutils literal">c_stage.cy</tt> -- the y motor</li>
</ul>
<p>The variables <tt class="docutils literal">cx</tt> and <tt class="docutils literal">cy</tt> have also been defined to directly access each motor for convenience.</p>
<p>The sample stage currently has 51 sample positions predefined. There are 8 columns labeled A through F and 6 rows
labeled 1 through 6. There are also two calibrants mounted on the sample holder. Finally, there is a Beryllium screen
a pinhole mounted near the base of the sample holder.</p>
<p>Sample locations can be accessed through the function <tt class="docutils literal"><span class="pre">c_stage.loc([sample_name])</span></tt>. This function will return the position
of a given sample (sample_name) in motor coordinates (if the stage has been aligned). For example, you can find the
coordinates of a sample in column A row 4 by <tt class="docutils literal">loc = <span class="pre">c_stage.loc(['A4'])</span></tt>. <tt class="docutils literal">loc</tt> will be a list with two coordinates
<tt class="docutils literal">[x_coordinate,y_coordinate]</tt> corresponding to the sample location.</p>
<p>When the profile is booted for the first time it automatically loads all sample positions in a general coordinate system.
The origin of the coordinate system (0,0) is defined as the pinhole location. However, these locations do not necessarily
correspond to the location of samples in the motor coordinate system initially. The <tt class="docutils literal">c_stage</tt> class has a method called
<tt class="docutils literal">correct</tt> that can align the two coordinate systems. To correct for an offset between the two systems, you can pass
offsets in the x and y direction by <tt class="docutils literal"><span class="pre">c_stage.correct([x_offset,y_offset])</span></tt>.</p>
<p>The stage object also has a motor called <tt class="docutils literal">c_stage.detz</tt> that is used for setting the sample-to-detector distance. This
distance is set on startup and should not be changed unless the user is absolutely sure. This functionality may change
and be expanded upon in future builds.</p>
</div>
<div class="section" id="beamstop">
<h1>Beamstop</h1>
<p>Beamline 10-2a is equipped with a photodiode beamstop that can read the direct intensity of the beam. It is generally
used for aligning the stage and can also monitor beam intensity/flux. The variable <tt class="docutils literal">bstop</tt> can be passed to
various Bluesky plans as an instrument.</p>
</div>
<div class="section" id="filter-box">
<h1>Filter Box</h1>
<p>Beamline 10-2a has a filter box with slots for 4 filter foils. The filter box can be accessed through the variable
<tt class="docutils literal">filt</tt>. The state of each filter is defined as <tt class="docutils literal">1</tt> if the filter is in the path of the beam and <tt class="docutils literal">0</tt> if the
filter is out of the path of the beam.</p>
<p>Some useful functions:</p>
<ul class="simple">
<li>filt.set([filter1,filter2,filter3,filter4]) -- set the state of each filter. Example: filter1-0,filter2=1,filter3=0,filter4=0</li>
<li>filt.all() -- set all filters to a state of 1 (in the path of the beam)</li>
<li>filt.none() -- set all filters to a state of 0 (out of the path of the beam)</li>
</ul>
</div>
</div>
</body>
</html>
